{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/gif.js","webpack:///./src/assets/screenshot.jpg","webpack:///./src/components/storage.js","webpack:///./src/components/set-frames-data.js","webpack:///./src/components/draw-line.js","webpack:///./src/components/set-new-data-pixels.js","webpack:///./src/screens/tools/pen-tool.js","webpack:///./src/components/draw-final-line-on-canvas.js","webpack:///./src/screens/tools/line-tool.js","webpack:///./src/screens/tools/eraser-tool.js","webpack:///./src/components/rgb-to-hex.js","webpack:///./src/screens/tools/choose-picker-tool.js","webpack:///./src/screens/tools/paint-backet-tool.js","webpack:///./src/screens/tools/paint-bucket-same-color-tool.js","webpack:///./src/screens/tools/rectangle-tool.js","webpack:///./src/screens/tools/circle-tool.js","webpack:///./src/screens/tools/dithering-tool.js","webpack:///./src/screens/tools/lighten-tool.js","webpack:///./src/screens/info-field/info.js","webpack:///./src/screens/canvas/canvas.js","webpack:///./src/screens/preview/preview-animation.js","webpack:///./src/screens/preview/fullsreen-mode.js","webpack:///./src/screens/tools/tools.js","webpack:///./src/screens/keyboard/keyboard-shortcuts.js","webpack:///./src/screens/export/export.js","webpack:///./src/screens/frames/frames.js","webpack:///./src/components/draw-canvas.js","webpack:///./src/screens/frames/frame-tools.js","webpack:///./src/screens/colors/colors.js","webpack:///./src/screens/landing-page/landing.js","webpack:///./src/screens/preview/slider-fps.js","webpack:///./src/screens/canvas/canvas-size-button.js","webpack:///./src/screens/user-session/user-local-storage.js","webpack:///./src/components/start-app.js","webpack:///./src/screens/authorization/auth.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","e","u","a","f","Error","code","length","1","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","arguments","err","context","Array","slice","apply","addListener","listener","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter","2","UA","browser","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","version","parseFloat","parseInt","3","GIF","hasProp","indexOf","item","superClass","defaults","frameDefaults","options","base","running","frames","freeWorkers","activeWorkers","setOptions","child","parent","ctor","constructor","__super__","extend","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","_this","Math","min","forEach","Worker","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","./browser.coffee","events","storage","currentTool","colors","primaryColor","secondaryColor","canvas","canvasContain","querySelector","canvasElement","canvasSecondary","sizeCanvas","sizeRect","countOfFrame","countOfDataFrame","currentFrame","numCurrentFrame","framesData","fill","currentFps","display","landing","app","setFramesData","x","y","color","currentNum","getAttribute","row","col","indexPiksel","pixelData","setPixelData","drawLine","x1","y1","x2","y2","dx","dy","dx1","abs","dy1","xe","ye","px","py","setNewDataPixels","map","elem","element","drawPen","x0","y0","fillSpaces","h","v","drawPixel","ctxFrame","children","offsetX","offsetY","fillStyle","handleMouseDown","handleMouseMove","handleMouseUp","addPenTool","addEventListener","drawFinalPixelsOnCanvas","drawL","style","zIndex","floor","clearRect","getCoords","addLineTool","drawEraser","deletePixel","addEraserTool","rgbToHex","rgb","hex","Number","toString","fullColorHex","b","primaryColorField","chooseColor","imgData","addColorPickerTool","startR","startG","startB","startA","colorPixel","matchStartColor","getPixelsForFilling","pixelStack","newPose","pop","reachLeft","reachRight","paintBacket","addPaintBacket","paintSameColor","addPaintSameColor","drawRec","startX","startY","endX","endY","drawRect","addRectangleTool","drawCir","putPixel","xC","yC","evenX","evenY","rX","rY","angle","acos","sin","asin","cos","drawCircle","getStartCoords","window","addCircleTool","drawDith","xEven","yEven","addDitheringTool","ligh","getNewLightenColor","cmin","cmax","max","delta","toFixed","rgbToHsl","l1","s1","hslToRgb","getLighten","newColor","addLightenTool","Info","coordsInfo","innerHTML","removeCoords","showCoordsOfPixel","Canvas","pixels","canvasCopy","canvasSizeButtons","cloneNode","infoCoords","InfoCoords","addEventsOnCanvas","createCanvas","oldCanvas","newCanvas","replaceChild","createPreviewAnimation","async","fps","preview","ctxPreview","sliderFps","ms","getElementsByClassName","indexFrame","frameOfAnimation","Promise","resolve","res","animationFrames","then","fulfilled","imageSmoothingEnabled","newFrames","setTimeout","fullscreenButton","runFullscreenMode","requestFullscreen","outerHeight","handleFullscreenMode","Tools","tools","pen","paintBucket","colorPicker","eraser","line","rectangle","circle","dithering","lighten","move","shape","colorTools","chooseTools","target","tagName","parentNode","addTooltips","getComputedStyle","removeTooltips","handleEventsTools","Keyboard","super","keyboardButton","keyboardModal","closeKeyboard","showModalWindow","closeModalWindow","handleKeyDown","handleKeyboardModalWindow","Export","exportToGIFButton","exportToGoogleDriveButton","renderExportToDrive","googleButton","[object Object]","gif","blob","link","urlImg","URL","createObjectURL","setAttribute","click","exportToGD","exportToGif","gapi","savetodrive","go","src","filename","sitename","handleExports","renderSaveToDrive","Frame","numData","numOfFrame","frameCopy","frameContain","frameCanvas","numFrameTool","numDataOfFrame","drawCanvas","FrameTools","addFrameButton","dragElem","changeNum","classList","add","remove","getHoverTool","stopHoverTool","handleFrameTool","deleteFrame","copyFrame","handleMoveFrameTool","hoverFrameTools","selectFrame","createNewFrame","newFrame","addNewFrame","insertAdjacentElement","previousElementSibling","removeChild","changeNumOfFrames","copyNode","getDragElem","handleDragStart","dataTransfer","effectAllowed","setData","handleDragEnter","preventDefault","dropEffect","handleDragEnd","over","elemCopy","overCopy","currentNumElem","currentNumOver","currentFrameDataElem","currentFrameDataOver","handleDragOver","handleDragLeave","handleAddFrameButton","Colors","secondaryColorField","arrowChange","changeColors","handleColorsChange","changePrimaryColor","changeSecondaryColor","Landing","landingPage","piskelApp","aboutApp","createSpriteButton","backToLandingButton","loadImage","screen","Image","Screenshot","loadApp","backToLanding","handleCreateSpriteButton","FPS","valueFps","changeFpsValue","handleSliderFPS","CanvasSize","canvasSizeButton","size","querySelectorAll","textContent","deleteOldFrame","handleCanvasSizeButton","changeCanvasSize","UserSession","saveButton","deleteButton","message","store","tool","frameTools","canvasSize","saveSession","localStorage","setItem","JSON","stringify","parse","getItem","showMessage","text","closeMessage","deleteCurrentTool","deleteColors","deleteFrames","find","innerText","deleteFps","deleteSession","messText","clear","loadDisplay","loadCurrentTool","loadCurrentColor","loadCanvasSize","loadFrames","el","clientWidth","clientHeight","ind","eventSelect","loadCurrentFps","loadSession","handleClickSaveButton","keyboard","exp","auth","sinInButton","authWindow","close","showSingInWindow","closeSingInWindow","handleSingInButton","session","start"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/* eslint-disable */\n// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.GIF=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError(\"n must be a positive number\");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type===\"error\"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified \"error\" event. ('+er+\")\");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events)this._events={};if(this._events.newListener)this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error(\"(node) warning: possible EventEmitter memory \"+\"leak detected. %d listeners added. \"+\"Use emitter.setMaxListeners() to increase limit.\",this._events[type].length);if(typeof console.trace===\"function\"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit(\"removeListener\",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key===\"removeListener\")continue;this.removeAllListeners(key)}this.removeAllListeners(\"removeListener\");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg===\"function\"}function isNumber(arg){return typeof arg===\"number\"}function isObject(arg){return typeof arg===\"object\"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],2:[function(require,module,exports){var UA,browser,mode,platform,ua;ua=navigator.userAgent.toLowerCase();platform=navigator.platform.toLowerCase();UA=ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0];mode=UA[1]===\"ie\"&&document.documentMode;browser={name:UA[1]===\"version\"?UA[3]:UA[1],version:mode||parseFloat(UA[1]===\"opera\"&&UA[4]?UA[4]:UA[2]),platform:{name:ua.match(/ip(?:ad|od|hone)/)?\"ios\":(ua.match(/(?:webos|android)/)||platform.match(/mac|win|linux/)||[\"other\"])[0]}};browser[browser.name]=true;browser[browser.name+parseInt(browser.version,10)]=true;browser.platform[browser.platform.name]=true;module.exports=browser},{}],3:[function(require,module,exports){var EventEmitter,GIF,browser,extend=function(child,parent){for(var key in parent){if(hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child},hasProp={}.hasOwnProperty,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i}return-1},slice=[].slice;EventEmitter=require(\"events\").EventEmitter;browser=require(\"./browser.coffee\");GIF=function(superClass){var defaults,frameDefaults;extend(GIF,superClass);defaults={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:false,dither:false};frameDefaults={delay:500,copy:false};function GIF(options){var base,key,value;this.running=false;this.options={};this.frames=[];this.freeWorkers=[];this.activeWorkers=[];this.setOptions(options);for(key in defaults){value=defaults[key];if((base=this.options)[key]==null){base[key]=value}}}GIF.prototype.setOption=function(key,value){this.options[key]=value;if(this._canvas!=null&&(key===\"width\"||key===\"height\")){return this._canvas[key]=value}};GIF.prototype.setOptions=function(options){var key,results,value;results=[];for(key in options){if(!hasProp.call(options,key))continue;value=options[key];results.push(this.setOption(key,value))}return results};GIF.prototype.addFrame=function(image,options){var frame,key;if(options==null){options={}}frame={};frame.transparent=this.options.transparent;for(key in frameDefaults){frame[key]=options[key]||frameDefaults[key]}if(this.options.width==null){this.setOption(\"width\",image.width)}if(this.options.height==null){this.setOption(\"height\",image.height)}if(typeof ImageData!==\"undefined\"&&ImageData!==null&&image instanceof ImageData){frame.data=image.data}else if(typeof CanvasRenderingContext2D!==\"undefined\"&&CanvasRenderingContext2D!==null&&image instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext!==\"undefined\"&&WebGLRenderingContext!==null&&image instanceof WebGLRenderingContext){if(options.copy){frame.data=this.getContextData(image)}else{frame.context=image}}else if(image.childNodes!=null){if(options.copy){frame.data=this.getImageData(image)}else{frame.image=image}}else{throw new Error(\"Invalid image\")}return this.frames.push(frame)};GIF.prototype.render=function(){var i,j,numWorkers,ref;if(this.running){throw new Error(\"Already running\")}if(this.options.width==null||this.options.height==null){throw new Error(\"Width and height must be set prior to rendering\")}this.running=true;this.nextFrame=0;this.finishedFrames=0;this.imageParts=function(){var j,ref,results;results=[];for(i=j=0,ref=this.frames.length;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){results.push(null)}return results}.call(this);numWorkers=this.spawnWorkers();if(this.options.globalPalette===true){this.renderNextFrame()}else{for(i=j=0,ref=numWorkers;0<=ref?j<ref:j>ref;i=0<=ref?++j:--j){this.renderNextFrame()}}this.emit(\"start\");return this.emit(\"progress\",0)};GIF.prototype.abort=function(){var worker;while(true){worker=this.activeWorkers.shift();if(worker==null){break}this.log(\"killing active worker\");worker.terminate()}this.running=false;return this.emit(\"abort\")};GIF.prototype.spawnWorkers=function(){var j,numWorkers,ref,results;numWorkers=Math.min(this.options.workers,this.frames.length);(function(){results=[];for(var j=ref=this.freeWorkers.length;ref<=numWorkers?j<numWorkers:j>numWorkers;ref<=numWorkers?j++:j--){results.push(j)}return results}).apply(this).forEach(function(_this){return function(i){var worker;_this.log(\"spawning worker \"+i);worker=new Worker(_this.options.workerScript);worker.onmessage=function(event){_this.activeWorkers.splice(_this.activeWorkers.indexOf(worker),1);_this.freeWorkers.push(worker);return _this.frameFinished(event.data)};return _this.freeWorkers.push(worker)}}(this));return numWorkers};GIF.prototype.frameFinished=function(frame){var i,j,ref;this.log(\"frame \"+frame.index+\" finished - \"+this.activeWorkers.length+\" active\");this.finishedFrames++;this.emit(\"progress\",this.finishedFrames/this.frames.length);this.imageParts[frame.index]=frame;if(this.options.globalPalette===true){this.options.globalPalette=frame.globalPalette;this.log(\"global palette analyzed\");if(this.frames.length>2){for(i=j=1,ref=this.freeWorkers.length;1<=ref?j<ref:j>ref;i=1<=ref?++j:--j){this.renderNextFrame()}}}if(indexOf.call(this.imageParts,null)>=0){return this.renderNextFrame()}else{return this.finishRendering()}};GIF.prototype.finishRendering=function(){var data,frame,i,image,j,k,l,len,len1,len2,len3,offset,page,ref,ref1,ref2;len=0;ref=this.imageParts;for(j=0,len1=ref.length;j<len1;j++){frame=ref[j];len+=(frame.data.length-1)*frame.pageSize+frame.cursor}len+=frame.pageSize-frame.cursor;this.log(\"rendering finished - filesize \"+Math.round(len/1e3)+\"kb\");data=new Uint8Array(len);offset=0;ref1=this.imageParts;for(k=0,len2=ref1.length;k<len2;k++){frame=ref1[k];ref2=frame.data;for(i=l=0,len3=ref2.length;l<len3;i=++l){page=ref2[i];data.set(page,offset);if(i===frame.data.length-1){offset+=frame.cursor}else{offset+=frame.pageSize}}}image=new Blob([data],{type:\"image/gif\"});return this.emit(\"finished\",image,data)};GIF.prototype.renderNextFrame=function(){var frame,task,worker;if(this.freeWorkers.length===0){throw new Error(\"No free workers\")}if(this.nextFrame>=this.frames.length){return}frame=this.frames[this.nextFrame++];worker=this.freeWorkers.shift();task=this.getTask(frame);this.log(\"starting frame \"+(task.index+1)+\" of \"+this.frames.length);this.activeWorkers.push(worker);return worker.postMessage(task)};GIF.prototype.getContextData=function(ctx){return ctx.getImageData(0,0,this.options.width,this.options.height).data};GIF.prototype.getImageData=function(image){var ctx;if(this._canvas==null){this._canvas=document.createElement(\"canvas\");this._canvas.width=this.options.width;this._canvas.height=this.options.height}ctx=this._canvas.getContext(\"2d\");ctx.setFill=this.options.background;ctx.fillRect(0,0,this.options.width,this.options.height);ctx.drawImage(image,0,0);return this.getContextData(ctx)};GIF.prototype.getTask=function(frame){var index,task;index=this.frames.indexOf(frame);task={index:index,last:index===this.frames.length-1,delay:frame.delay,transparent:frame.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:browser.name===\"chrome\"};if(frame.data!=null){task.data=frame.data}else if(frame.context!=null){task.data=this.getContextData(frame.context)}else if(frame.image!=null){task.data=this.getImageData(frame.image)}else{throw new Error(\"Invalid frame\")}return task};GIF.prototype.log=function(){var args;args=1<=arguments.length?slice.call(arguments,0):[];if(!this.options.debug){return}return console.log.apply(console,args)};return GIF}(EventEmitter);module.exports=GIF},{\"./browser.coffee\":2,events:1}]},{},[3])(3)});\n\n","module.exports = __webpack_public_path__ + \"a0ba2b4dd2d8c90dab6b9228de26fe4c.jpg\";","class Storage {\n  constructor() {\n    this.currentTool = null;\n    this.colors = {\n      primaryColor: '#acc7cd',\n      secondaryColor: '#e1e6e2',\n    };\n    this.canvas = {\n      canvasContain: document.querySelector('.canvas-contain'),\n      canvasElement: null,\n      canvasSecondary: null,\n      sizeCanvas: 32,\n      sizeRect: 25,\n    };\n    this.frame = {\n      countOfFrame: 1,\n      countOfDataFrame: 0,\n      currentFrame: document.querySelector('.frames-contain__wrapper-frame'),\n      numCurrentFrame: 0,\n    };\n    this.framesData = [\n      new Array(this.canvas.sizeCanvas * this.canvas.sizeCanvas).fill(null),\n    ];\n    this.currentFps = '0';\n    this.display = {\n      landing: 'none',\n      app: 'none',\n    };\n  }\n}\n\nconst storage = new Storage();\n\nexport default storage;\n","import storage from './storage';\n\nfunction setFramesData(x, y, color) {\n  const currentNum = storage.frame.currentFrame.getAttribute('data-num-frame');\n  const row = y / storage.canvas.sizeRect;\n  const col = x / storage.canvas.sizeRect;\n  const indexPiksel = storage.canvas.sizeCanvas * row + col;\n  if (storage.currentTool === 'eraser') {\n    storage.framesData[currentNum][indexPiksel] = null;\n  } else if (storage.currentTool === 'lighten') {\n    storage.framesData[currentNum][indexPiksel] = [x, y,\n      storage.canvas.sizeRect, color];\n  } else {\n    storage.framesData[currentNum][indexPiksel] = [x, y,\n      storage.canvas.sizeRect, storage.colors.primaryColor];\n  }\n  return indexPiksel;\n}\n\nexport default setFramesData;\n","import storage from './storage';\n\nlet pixelData;\n\nfunction setPixelData(x, y) {\n  const { sizeRect } = storage.canvas;\n  const indexPiksel = storage.canvas.sizeCanvas * y + x;\n  pixelData[indexPiksel] = [x * sizeRect, y * sizeRect,\n    storage.canvas.sizeRect, storage.colors.primaryColor];\n}\n\nfunction drawLine(x1, y1, x2, y2, ctx) {\n  const { sizeRect, sizeCanvas } = storage.canvas;\n  pixelData = new Array(sizeCanvas * sizeCanvas).fill(null);\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  const dx1 = Math.abs(dx);\n  const dy1 = Math.abs(dy);\n  let px = 2 * dy1 - dx1;\n  let py = 2 * dx1 - dy1;\n  let x;\n  let y;\n  let xe;\n  let ye;\n  if (dy1 <= dx1) {\n    if (dx >= 0) {\n      x = x1; y = y1; xe = x2;\n    } else {\n      x = x2; y = y2; xe = x1;\n    }\n    ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n    setPixelData(x, y);\n    for (let i = 0; x < xe; i += 1) {\n      x += 1;\n      if (px < 0) {\n        px += 2 * dy1;\n      } else {\n        if ((dx < 0 && dy < 0) || (dx > 0 && dy > 0)) {\n          y += 1;\n        } else {\n          y -= 1;\n        }\n        px += 2 * (dy1 - dx1);\n      }\n      ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n      setPixelData(x, y);\n    }\n  } else {\n    if (dy >= 0) {\n      x = x1; y = y1; ye = y2;\n    } else {\n      x = x2; y = y2; ye = y1;\n    }\n    ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n    setPixelData(x, y);\n    for (let i = 0; y < ye; i += 1) {\n      y += 1;\n      if (py <= 0) {\n        py += 2 * dx1;\n      } else {\n        if ((dx < 0 && dy < 0) || (dx > 0 && dy > 0)) {\n          x += 1;\n        } else {\n          x -= 1;\n        }\n        py += 2 * (dx1 - dy1);\n      }\n      ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n      setPixelData(x, y);\n    }\n  }\n  return pixelData;\n}\n\nexport default drawLine;\n","import storage from './storage';\n\nfunction setNewDataPixels(data) {\n  const currentNum = storage.frame.currentFrame.getAttribute('data-num-frame');\n  storage.framesData[currentNum] = storage.framesData[currentNum].map((elem, i) => {\n    let element;\n    if (data[i] !== null) {\n      element = data[i];\n    } else {\n      element = elem;\n    }\n    return element;\n  });\n}\n\nexport default setNewDataPixels;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\nimport drawLine from '../../components/draw-line';\nimport setNewDataPixels from '../../components/set-new-data-pixels';\n\nlet drawPen = false;\nlet x0 = null;\nlet y0 = null;\n\nfunction fillSpaces(h, v) {\n  if (x0 !== null && y0 !== null && h !== x0 && v !== y0) {\n    const { canvasElement, sizeRect } = storage.canvas;\n    const ctx = canvasElement.getContext('2d');\n    const x1 = h / sizeRect;\n    const y1 = v / sizeRect;\n    const pixelData = drawLine(x0, y0, x1, y1, ctx);\n    setNewDataPixels(pixelData);\n  }\n}\n\nfunction drawPixel(e) {\n  if (storage.currentTool === 'pen') {\n    if (drawPen) {\n      const { canvasElement, sizeRect } = storage.canvas;\n      const { currentFrame } = storage.frame;\n      const ctx = canvasElement.getContext('2d');\n      const ctxFrame = currentFrame.children[0].getContext('2d');\n      for (let h = 0; h < canvasElement.width; h += sizeRect) {\n        for (let v = 0; v < canvasElement.height; v += sizeRect) {\n          if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n            ctx.fillStyle = storage.colors.primaryColor;\n            fillSpaces(h, v);\n            x0 = h / sizeRect;\n            y0 = v / sizeRect;\n\n            ctx.fillRect(h, v, sizeRect, sizeRect);\n            ctxFrame.drawImage(canvasElement, 0, 0, 150, 150);\n            setFramesData(h, v);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'pen') {\n    drawPen = true;\n  }\n  drawPixel(e);\n}\n\nfunction handleMouseMove(e) {\n  drawPixel(e);\n}\n\nfunction handleMouseUp() {\n  drawPen = false;\n  x0 = null;\n  y0 = null;\n}\n\nfunction addPenTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  canvas.addEventListener('mousemove', handleMouseMove);\n  canvas.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addPenTool;\n","import storage from './storage';\n\nfunction drawFinalPixelsOnCanvas(data) {\n  const ctx = storage.canvas.canvasElement.getContext('2d');\n  data.forEach((elem) => {\n    if (elem !== null) {\n      const color = elem[3];\n      ctx.fillStyle = color;\n      ctx.fillRect(elem[0], elem[1], elem[2], elem[2]);\n    }\n  });\n}\n\nexport default drawFinalPixelsOnCanvas;\n","import storage from '../../components/storage';\nimport setNewDataPixels from '../../components/set-new-data-pixels';\nimport drawLine from '../../components/draw-line';\nimport drawFinalPixelsOnCanvas from '../../components/draw-final-line-on-canvas';\n\nlet drawL = false;\nlet x0 = null;\nlet y0 = null;\nlet pixelData;\n\nfunction getCoords(e) {\n  if (drawL) {\n    if (x0 !== null && y0 !== null) {\n      const { sizeRect } = storage.canvas;\n      const x1 = x0;\n      const y1 = y0;\n      const x2 = Math.floor(e.offsetX / sizeRect);\n      const y2 = Math.floor(e.offsetY / sizeRect);\n      const { canvasSecondary } = storage.canvas;\n      const ctx = canvasSecondary.getContext('2d');\n      ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n      pixelData = drawLine(x1, y1, x2, y2, ctx);\n    }\n  }\n}\n\nfunction drawPixel(e) {\n  if (storage.currentTool === 'line') {\n    const { canvasSecondary, sizeRect } = storage.canvas;\n    const ctx = canvasSecondary.getContext('2d');\n    if (drawL) {\n      canvasSecondary.style.zIndex = 15;\n      for (let h = 0; h < canvasSecondary.width; h += sizeRect) {\n        for (let v = 0; v < canvasSecondary.height; v += sizeRect) {\n          if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n            ctx.fillStyle = storage.colors.primaryColor;\n\n            x0 = h / sizeRect;\n            y0 = v / sizeRect;\n\n            ctx.fillRect(h, v, sizeRect, sizeRect);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'line') {\n    drawL = true;\n    drawPixel(e);\n  }\n}\n\nfunction handleMouseMove(e) {\n  getCoords(e);\n}\n\nfunction handleMouseUp() {\n  if (drawL) {\n    const { canvasSecondary } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasSecondary.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n    canvasSecondary.style.zIndex = 5;\n    drawL = false;\n    x0 = null;\n    y0 = null;\n    setNewDataPixels(pixelData);\n    drawFinalPixelsOnCanvas(pixelData);\n    ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n  }\n}\n\nfunction addLineTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  storage.canvas.canvasSecondary.addEventListener('mousemove', handleMouseMove);\n  storage.canvas.canvasSecondary.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addLineTool;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\n\nlet drawEraser = false;\n\nfunction deletePixel(e) {\n  if (storage.currentTool === 'eraser') {\n    if (drawEraser) {\n      const { canvasElement, sizeRect } = storage.canvas;\n      const { currentFrame } = storage.frame;\n      const ctx = canvasElement.getContext('2d');\n      const ctxFrame = currentFrame.children[0].getContext('2d');\n      for (let h = 0; h < canvasElement.width; h += sizeRect) {\n        for (let v = 0; v < canvasElement.height; v += sizeRect) {\n          if (h + sizeRect > e.offsetX && h <= e.offsetX\n            && v + sizeRect > e.offsetY && v <= e.offsetY) {\n            ctx.clearRect(h, v, sizeRect, sizeRect);\n            ctxFrame.clearRect(0, 0, 150, 150);\n            ctxFrame.drawImage(canvasElement, 0, 0, 150, 150);\n            setFramesData(h, v);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'eraser') {\n    drawEraser = true;\n  }\n  deletePixel(e);\n}\n\nfunction handleMouseMove(e) {\n  deletePixel(e);\n}\n\nfunction handleMouseUp() {\n  drawEraser = false;\n}\n\nfunction addEraserTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  canvas.addEventListener('mousemove', handleMouseMove);\n  canvas.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addEraserTool;\n","function rgbToHex(rgb) {\n  let hex = Number(rgb).toString(16);\n  if (hex.length < 2) {\n    hex = `0${hex}`;\n  }\n  return hex;\n}\n\nfunction fullColorHex(r, g, b) {\n  const red = rgbToHex(r);\n  const green = rgbToHex(g);\n  const blue = rgbToHex(b);\n  return red + green + blue;\n}\n\nexport default fullColorHex;\n","import storage from '../../components/storage';\nimport fullColorHex from '../../components/rgb-to-hex';\n\nconst primaryColorField = document.querySelector('.colors__primary-color');\n\nfunction chooseColor(e) {\n  if (storage.currentTool === 'colorPicker') {\n    const ctx = this.getContext('2d');\n    const imgData = ctx.getImageData(e.offsetX, e.offsetY, 1, 1);\n    const [r, g, b] = imgData.data;\n    storage.colors.primaryColor = `rgb(${r}, ${g}, ${b})`;\n    primaryColorField.value = `#${fullColorHex(r, g, b)}`;\n  }\n}\n\nfunction addColorPickerTool(canvas) {\n  canvas.addEventListener('click', chooseColor);\n}\n\nexport default addColorPickerTool;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\n\nlet startR;\nlet startG;\nlet startB;\nlet startA;\n\nfunction colorPixel(x, y, ctx) {\n  const { sizeRect } = storage.canvas;\n  ctx.fillStyle = storage.colors.primaryColor;\n  ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n  setFramesData(x * sizeRect, y * sizeRect);\n}\n\nfunction matchStartColor(pixelData) {\n  const r = pixelData.data[0];\n  const g = pixelData.data[1];\n  const b = pixelData.data[2];\n  const a = pixelData.data[3];\n\n  return (r === +startR && g === +startG && b === +startB && a === +startA);\n}\n\nfunction getPixelsForFilling(x0, y0) {\n  const { canvasElement, sizeRect } = storage.canvas;\n  const ctx = canvasElement.getContext('2d');\n  let x = x0;\n  let y = y0;\n  const pixelStack = [[x, y]];\n  while (pixelStack.length) {\n    const newPose = pixelStack.pop();\n    [x, y] = newPose;\n    let pixelData = ctx.getImageData(x * sizeRect, y * sizeRect, 1, 1);\n    while (y >= 0 && matchStartColor(pixelData)) {\n      y -= 1;\n      pixelData = ctx.getImageData(x * sizeRect, y * sizeRect, 1, 1);\n    }\n    y += 1;\n    pixelData = ctx.getImageData(x * sizeRect, y * sizeRect, 1, 1);\n    let reachLeft = false;\n    let reachRight = false;\n    while (y < canvasElement.height / sizeRect && matchStartColor(pixelData)) {\n      colorPixel(x, y, ctx);\n      if (x > 0) {\n        if (matchStartColor(ctx.getImageData((x - 1) * sizeRect, y * sizeRect, 1, 1))) {\n          if (!reachLeft) {\n            pixelStack.push([x - 1, y]);\n            reachLeft = true;\n          }\n        } else if (reachLeft) {\n          reachLeft = false;\n        }\n      }\n      if (x < canvasElement.width / sizeRect - 1) {\n        if (matchStartColor(ctx.getImageData((x + 1) * sizeRect, y * sizeRect, 1, 1))) {\n          if (!reachRight) {\n            pixelStack.push([x + 1, y]);\n            reachRight = true;\n          }\n        } else if (reachRight) {\n          reachRight = false;\n        }\n      }\n      y += 1;\n      pixelData = ctx.getImageData(x * sizeRect, y * sizeRect, 1, 1);\n    }\n  }\n}\n\nfunction paintBacket(e) {\n  if (storage.currentTool === 'paintBucket') {\n    const { canvasElement, sizeRect } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasElement.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    for (let h = 0; h < canvasElement.width; h += sizeRect) {\n      for (let v = 0; v < canvasElement.height; v += sizeRect) {\n        if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n          ctx.fillStyle = storage.colors.primaryColor;\n          const x0 = h / sizeRect;\n          const y0 = v / sizeRect;\n          const imgData = ctx.getImageData(h, v, 1, 1);\n          [startR, startG, startB, startA] = imgData.data;\n          getPixelsForFilling(x0, y0);\n          ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n        }\n      }\n    }\n  }\n}\n\nfunction addPaintBacket(canvas) {\n  canvas.addEventListener('click', paintBacket);\n}\n\nexport default addPaintBacket;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\n\nlet startR;\nlet startG;\nlet startB;\nlet startA;\n\nfunction colorPixel(x, y, ctx) {\n  const { sizeRect } = storage.canvas;\n  ctx.fillStyle = storage.colors.primaryColor;\n  ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n  setFramesData(x * sizeRect, y * sizeRect);\n}\n\nfunction matchStartColor(pixelData) {\n  const r = pixelData.data[0];\n  const g = pixelData.data[1];\n  const b = pixelData.data[2];\n  const a = pixelData.data[3];\n\n  return (r === +startR && g === +startG && b === +startB && a === +startA);\n}\n\nfunction getPixelsForFilling() {\n  const { canvasElement, sizeCanvas, sizeRect } = storage.canvas;\n  const ctx = canvasElement.getContext('2d');\n  for (let x = 0; x < sizeCanvas; x += 1) {\n    for (let y = 0; y < sizeCanvas; y += 1) {\n      const pixelData = ctx.getImageData(x * sizeRect, y * sizeRect, 1, 1);\n      if (matchStartColor(pixelData)) {\n        colorPixel(x, y, ctx);\n      }\n    }\n  }\n}\n\nfunction paintSameColor(e) {\n  if (storage.currentTool === 'paintSameColor') {\n    const { canvasElement, sizeRect } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasElement.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    for (let h = 0; h < canvasElement.width; h += sizeRect) {\n      for (let v = 0; v < canvasElement.height; v += sizeRect) {\n        if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n          ctx.fillStyle = storage.colors.primaryColor;\n          const imgData = ctx.getImageData(h, v, 1, 1);\n          [startR, startG, startB, startA] = imgData.data;\n          getPixelsForFilling();\n          ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n        }\n      }\n    }\n  }\n}\n\nfunction addPaintSameColor(canvas) {\n  canvas.addEventListener('click', paintSameColor);\n}\n\nexport default addPaintSameColor;\n","import storage from '../../components/storage';\nimport setNewDataPixels from '../../components/set-new-data-pixels';\nimport drawFinalPixelsOnCanvas from '../../components/draw-final-line-on-canvas';\n\nlet drawRec = false;\nlet x0 = null;\nlet y0 = null;\nlet pixelData;\n\nfunction setPixelData(x, y) {\n  const { sizeRect } = storage.canvas;\n  const indexPiksel = storage.canvas.sizeCanvas * y + x;\n  pixelData[indexPiksel] = [x * sizeRect, y * sizeRect,\n    storage.canvas.sizeRect, storage.colors.primaryColor];\n}\n\nfunction drawRect(x1, y1, x2, y2, ctx) {\n  const { sizeRect, sizeCanvas } = storage.canvas;\n  pixelData = new Array(sizeCanvas * sizeCanvas).fill(null);\n  const dx = x2 - x1;\n  const dy = y2 - y1;\n  let startX;\n  let startY;\n  let endX;\n  let endY;\n  if (dx >= 0 && dy >= 0) {\n    startX = x1;\n    endX = x2;\n    if (dy >= 0) {\n      startY = y1;\n      endY = y2;\n    } else if (dx < 0) {\n      startY = y2;\n      endY = y1;\n    }\n  } else if (dx < 0 && dy < 0) {\n    startX = x2;\n    endX = x1;\n    if (dy >= 0) {\n      startY = y1;\n      endY = y2;\n    } else if (dy < 0) {\n      startY = y2;\n      endY = y1;\n    }\n  }\n  for (let x = startX; x <= endX; x += 1) {\n    ctx.fillRect(x * sizeRect, y1 * sizeRect, sizeRect, sizeRect);\n    ctx.fillRect(x * sizeRect, y2 * sizeRect, sizeRect, sizeRect);\n    setPixelData(x, y1);\n    setPixelData(x, y2);\n  }\n  for (let y = startY; y <= endY; y += 1) {\n    ctx.fillRect(x1 * sizeRect, y * sizeRect, sizeRect, sizeRect);\n    ctx.fillRect(x2 * sizeRect, y * sizeRect, sizeRect, sizeRect);\n    setPixelData(x1, y);\n    setPixelData(x2, y);\n  }\n}\n\nfunction getCoords(e) {\n  if (drawRec) {\n    if (x0 !== null && y0 !== null) {\n      const { sizeRect } = storage.canvas;\n      const x1 = x0;\n      const y1 = y0;\n      const x2 = Math.floor(e.offsetX / sizeRect);\n      const y2 = Math.floor(e.offsetY / sizeRect);\n      const { canvasSecondary } = storage.canvas;\n      const ctx = canvasSecondary.getContext('2d');\n      ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n      drawRect(x1, y1, x2, y2, ctx);\n    }\n  }\n}\n\nfunction drawPixel(e) {\n  if (storage.currentTool === 'rectangle') {\n    if (drawRec) {\n      const { canvasSecondary, sizeRect } = storage.canvas;\n      const ctx = canvasSecondary.getContext('2d');\n      canvasSecondary.style.zIndex = 15;\n      for (let h = 0; h < canvasSecondary.width; h += sizeRect) {\n        for (let v = 0; v < canvasSecondary.height; v += sizeRect) {\n          if (h + sizeRect > e.offsetX && h <= e.offsetX\n            && v + sizeRect > e.offsetY && v <= e.offsetY) {\n            ctx.fillStyle = storage.colors.primaryColor;\n\n            x0 = h / sizeRect;\n            y0 = v / sizeRect;\n\n            ctx.fillRect(h, v, sizeRect, sizeRect);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'rectangle') {\n    drawRec = true;\n    drawPixel(e);\n  }\n}\n\nfunction handleMouseMove(e) {\n  getCoords(e);\n}\n\nfunction handleMouseUp() {\n  if (storage.currentTool === 'rectangle') {\n    const { canvasSecondary } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasSecondary.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n    canvasSecondary.style.zIndex = 5;\n    drawRec = false;\n    x0 = null;\n    y0 = null;\n    setNewDataPixels(pixelData);\n    drawFinalPixelsOnCanvas(pixelData);\n    ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n  }\n}\n\nfunction addRectangleTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  storage.canvas.canvasSecondary.addEventListener('mousemove', handleMouseMove);\n  storage.canvas.canvasSecondary.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addRectangleTool;\n","import storage from '../../components/storage';\nimport setNewDataPixels from '../../components/set-new-data-pixels';\nimport drawFinalPixelsOnCanvas from '../../components/draw-final-line-on-canvas';\n\nlet drawCir = false;\nlet x0 = null;\nlet y0 = null;\nlet pixelData;\n\nfunction setPixelData(x, y) {\n  const { sizeRect } = storage.canvas;\n  const indexPiksel = storage.canvas.sizeCanvas * y + x;\n  pixelData[indexPiksel] = [x * sizeRect, y * sizeRect,\n    storage.canvas.sizeRect, storage.colors.primaryColor];\n}\n\nfunction putPixel(x, y) {\n  const { canvasSecondary, sizeRect } = storage.canvas;\n  const ctx = canvasSecondary.getContext('2d');\n  ctx.fillRect(x * sizeRect, y * sizeRect, sizeRect, sizeRect);\n  setPixelData(x, y);\n}\n\nfunction drawCircle(x1, y1) {\n  const xC = Math.round((x0 + x1) / 2);\n  const yC = Math.round((y0 + y1) / 2);\n  const evenX = (x0 + x1) % 2;\n  const evenY = (y0 + y1) % 2;\n  const rX = x1 - xC;\n  const rY = y1 - yC;\n\n  for (let x = x0; x <= xC; x += 1) {\n    const angle = Math.acos((x - xC) / rX);\n    const y = Math.round(rY * Math.sin(angle) + yC);\n    putPixel(x - evenX, y);\n    putPixel(x - evenX, 2 * yC - y - evenY);\n    putPixel(2 * xC - x, y);\n    putPixel(2 * xC - x, 2 * yC - y - evenY);\n  }\n  for (let y = y0; y <= yC; y += 1) {\n    const angle = Math.asin((y - yC) / rY);\n    const x = Math.round(rX * Math.cos(angle) + xC);\n    putPixel(x, y - evenY);\n    putPixel(2 * xC - x - evenX, y - evenY);\n    putPixel(x, 2 * yC - y);\n    putPixel(2 * xC - x - evenX, 2 * yC - y);\n  }\n}\n\nfunction getCoords(e) {\n  if (x0 !== null && y0 !== null) {\n    const { canvasSecondary, sizeRect, sizeCanvas } = storage.canvas;\n    pixelData = new Array(sizeCanvas * sizeCanvas).fill(null);\n    const x1 = Math.floor(e.offsetX / sizeRect);\n    const y1 = Math.floor(e.offsetY / sizeRect);\n    const ctx = canvasSecondary.getContext('2d');\n    ctx.fillStyle = storage.colors.primaryColor;\n    ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n    drawCircle(x1, y1);\n  }\n}\n\nfunction getStartCoords(e) {\n  const { canvasSecondary, sizeRect } = storage.canvas;\n  canvasSecondary.style.zIndex = 15;\n  for (let h = 0; h < canvasSecondary.width; h += sizeRect) {\n    for (let v = 0; v < canvasSecondary.height; v += sizeRect) {\n      if (h + sizeRect > e.offsetX && h <= e.offsetX\n        && v + sizeRect > e.offsetY && v <= e.offsetY) {\n        x0 = h / sizeRect;\n        y0 = v / sizeRect;\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'circle') {\n    drawCir = true;\n    getStartCoords(e);\n  }\n}\n\nfunction handleMouseMove(e) {\n  if (storage.currentTool === 'circle') {\n    if (drawCir) {\n      getCoords(e);\n    }\n  }\n}\n\nfunction handleMouseUp() {\n  if (drawCir) {\n    const { canvasSecondary } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasSecondary.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    ctx.clearRect(0, 0, canvasSecondary.width, canvasSecondary.height);\n    canvasSecondary.style.zIndex = 5;\n    drawCir = false;\n    x0 = null;\n    y0 = null;\n    window.console.log(pixelData);\n    setNewDataPixels(pixelData);\n    drawFinalPixelsOnCanvas(pixelData);\n    ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n  }\n}\n\nfunction addCircleTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  storage.canvas.canvasSecondary.addEventListener('mousemove', handleMouseMove);\n  storage.canvas.canvasSecondary.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addCircleTool;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\n\nlet drawDith = false;\n\nfunction drawPixel(e) {\n  if (storage.currentTool === 'dithering') {\n    if (drawDith) {\n      const { canvasElement, sizeRect } = storage.canvas;\n      const { currentFrame } = storage.frame;\n      const ctx = canvasElement.getContext('2d');\n      const ctxFrame = currentFrame.children[0].getContext('2d');\n      for (let h = 0; h < canvasElement.width; h += sizeRect) {\n        for (let v = 0; v < canvasElement.height; v += sizeRect) {\n          if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n            const xEven = ((h / sizeRect) % 2) === 0;\n            const yEven = ((v / sizeRect) % 2) === 0;\n            if ((xEven && !yEven) || (!xEven && yEven)) {\n              ctx.fillStyle = storage.colors.primaryColor;\n\n              ctx.fillRect(h, v, sizeRect, sizeRect);\n              ctxFrame.drawImage(canvasElement, 0, 0, 150, 150);\n              setFramesData(h, v);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'dithering') {\n    drawDith = true;\n  }\n  drawPixel(e);\n}\n\nfunction handleMouseMove(e) {\n  drawPixel(e);\n}\n\nfunction handleMouseUp() {\n  drawDith = false;\n}\n\n\nfunction addDitheringTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  canvas.addEventListener('mousemove', handleMouseMove);\n  canvas.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addDitheringTool;\n","import storage from '../../components/storage';\nimport setFramesData from '../../components/set-frames-data';\n\nlet ligh = false;\n\nfunction rgbToHsl(data) {\n  let [r, g, b] = data;\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  const cmin = Math.min(r, g, b);\n  const cmax = Math.max(r, g, b);\n  const delta = cmax - cmin;\n  let h = 0;\n  let s = 0;\n  let l = 0;\n  if (delta === 0) {\n    h = 0;\n  } else if (cmax === r) {\n    h = ((g - b) / delta) % 6;\n  } else if (cmax === g) {\n    h = (b - r) / delta + 2;\n  } else {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  l = (cmax + cmin) / 2;\n\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n\n  s = +(s * 100).toFixed(1);\n  l = +(l * 100).toFixed(1);\n\n  return [h, s, l];\n}\n\nfunction hslToRgb(h, s, l) {\n  const s1 = s / 100;\n  const l1 = l / 100;\n  const c = (1 - Math.abs(2 * l1 - 1)) * s1;\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  const m = l1 - c / 2;\n  let r = 0;\n  let g = 0;\n  let b = 0;\n  if (h >= 0 && h < 60) {\n    r = c; g = x; b = 0;\n  } else if (h >= 60 && h < 120) {\n    r = x; g = c; b = 0;\n  } else if (h >= 120 && h < 180) {\n    r = 0; g = c; b = x;\n  } else if (h >= 180 && h < 240) {\n    r = 0; g = x; b = c;\n  } else if (h >= 240 && h < 300) {\n    r = x; g = 0; b = c;\n  } else if (h >= 300 && h < 360) {\n    r = c; g = 0; b = x;\n  }\n  r = Math.round((r + m) * 255);\n  g = Math.round((g + m) * 255);\n  b = Math.round((b + m) * 255);\n\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\nfunction getNewLightenColor(imgData) {\n  const [h, s, l] = rgbToHsl(imgData.data);\n  let l1 = l + 1;\n  if (l1 > 100) {\n    l1 = 100;\n  }\n  const color = hslToRgb(h, s, l1);\n  return color;\n}\n\nfunction getLighten(e) {\n  if (ligh) {\n    const { canvasElement, sizeRect } = storage.canvas;\n    const { currentFrame } = storage.frame;\n    const ctx = canvasElement.getContext('2d');\n    const ctxFrame = currentFrame.children[0].getContext('2d');\n    for (let h = 0; h < canvasElement.width; h += sizeRect) {\n      for (let v = 0; v < canvasElement.height; v += sizeRect) {\n        if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n          const imgData = ctx.getImageData(h, v, 1, 1);\n          if (imgData.data[3] !== 0) {\n            const newColor = getNewLightenColor(imgData);\n            ctx.fillStyle = newColor;\n            ctx.fillRect(h, v, sizeRect, sizeRect);\n            ctxFrame.drawImage(canvasElement, 0, 0, 150, 150);\n            setFramesData(h, v, newColor);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction handleMouseDown(e) {\n  if (storage.currentTool === 'lighten') {\n    ligh = true;\n    getLighten(e);\n  }\n}\n\nfunction handleMouseMove(e) {\n  getLighten(e);\n}\n\nfunction handleMouseUp() {\n  if (storage.currentTool === 'lighten') {\n    ligh = false;\n  }\n}\n\nfunction addLightenTool(canvas) {\n  canvas.addEventListener('mousedown', handleMouseDown);\n  canvas.addEventListener('mousemove', handleMouseMove);\n  canvas.addEventListener('mouseup', handleMouseUp);\n}\n\nexport default addLightenTool;\n","import storage from '../../components/storage';\n\nclass Info {\n  constructor() {\n    this.coordsInfo = document.querySelector('.info__coords');\n  }\n\n  getCoords(e) {\n    const { canvasElement, sizeRect } = storage.canvas;\n    for (let h = 0; h < canvasElement.width; h += sizeRect) {\n      for (let v = 0; v < canvasElement.height; v += sizeRect) {\n        if (h + sizeRect > e.offsetX && h <= e.offsetX\n          && v + sizeRect > e.offsetY && v <= e.offsetY) {\n          this.coordsInfo.innerHTML = `[${h / sizeRect}:${v / sizeRect}]`;\n        }\n      }\n    }\n  }\n\n  removeCoords() {\n    this.coordsInfo.innerHTML = '';\n  }\n\n  showCoordsOfPixel(canvas) {\n    canvas.addEventListener('mousemove', this.getCoords.bind(this));\n    canvas.addEventListener('mouseleave', this.removeCoords.bind(this));\n  }\n}\n\nexport default Info;\n","import storage from '../../components/storage';\nimport addPenTool from '../tools/pen-tool';\nimport addLineTool from '../tools/line-tool';\nimport addEraserTool from '../tools/eraser-tool';\nimport addColorPickerTool from '../tools/choose-picker-tool';\nimport addPaintBacket from '../tools/paint-backet-tool';\nimport addPaintSameColor from '../tools/paint-bucket-same-color-tool';\nimport addRectangleTool from '../tools/rectangle-tool';\nimport addCircleTool from '../tools/circle-tool';\nimport addDitheringTool from '../tools/dithering-tool';\nimport addLightenTool from '../tools/lighten-tool';\nimport InfoCoords from '../info-field/info';\n\nclass Canvas {\n  constructor(pixels) {\n    this.canvasCopy = document.querySelector('.canvas-contain__drawing-canvas');\n    this.canvasSecondary = document.querySelector('.canvas-contain__secondary-canvas');\n    this.canvasContain = document.querySelector('.canvas-contain');\n    this.canvasSizeButtons = document.querySelector('.canvas-size');\n    this.canvas = this.canvasCopy.cloneNode();\n    this.sizeCanvas = pixels;\n    this.sizeRect = Math.floor(800 / this.sizeCanvas);\n    this.infoCoords = new InfoCoords();\n  }\n\n  addEventsOnCanvas(canvas) {\n    addPenTool(canvas);\n    addLineTool(canvas);\n    addEraserTool(canvas);\n    addColorPickerTool(canvas);\n    addPaintBacket(canvas);\n    addPaintSameColor(canvas);\n    addRectangleTool(canvas);\n    addCircleTool(canvas);\n    addDitheringTool(canvas);\n    addLightenTool(canvas);\n    this.infoCoords.showCoordsOfPixel(canvas);\n  }\n\n  createCanvas(sizeCanvas) {\n    const oldCanvas = document.querySelector('.canvas-contain__drawing-canvas');\n    const newCanvas = new Canvas(sizeCanvas);\n    const { canvas, canvasSecondary } = newCanvas;\n    canvas.width = newCanvas.sizeRect * newCanvas.sizeCanvas;\n    canvas.height = canvas.width;\n    canvasSecondary.width = canvas.width;\n    canvasSecondary.height = canvas.width;\n    storage.canvas.canvasSecondary = canvasSecondary;\n    storage.canvas.canvasElement = canvas;\n    storage.canvas.sizeRect = newCanvas.sizeRect;\n    storage.canvas.sizeCanvas = sizeCanvas;\n    this.addEventsOnCanvas(canvas);\n    this.canvasContain.replaceChild(canvas, oldCanvas);\n  }\n}\n\nexport default Canvas;\n","import storage from '../../components/storage';\n\n\nasync function createPreviewAnimation(fps) {\n  const preview = document.querySelector('.preview-contain__preview');\n  const ctxPreview = preview.getContext('2d');\n  const sliderFps = document.querySelector('.preview-contain__fps-block--fps-slider');\n\n  const ms = 1000 / fps;\n  let frames = document.getElementsByClassName('frames-contain__wrapper-frame');\n  frames = Array.prototype.slice.call(frames);\n  let indexFrame = 0;\n\n  const frameOfAnimation = new Promise((resolve) => {\n    let res;\n    if (+fps !== 0) {\n      res = true;\n    } else if (+fps === 0) {\n      res = false;\n    }\n    resolve(res);\n  });\n\n  function animationFrames() {\n    frameOfAnimation\n      .then((fulfilled) => {\n        if (fulfilled) {\n          ctxPreview.clearRect(0, 0, preview.width, preview.height);\n          ctxPreview.imageSmoothingEnabled = false;\n          ctxPreview.drawImage(frames[indexFrame].children[0], 0, 0, preview.width, preview.height);\n          indexFrame += 1;\n          if (indexFrame === frames.length) {\n            indexFrame = 0;\n          }\n        } else if (!fulfilled) {\n          ctxPreview.clearRect(0, 0, preview.width, preview.height);\n          ctxPreview.drawImage(storage.canvas.canvasElement, 0, 0, preview.width, preview.height);\n        }\n      });\n    const newFrames = document.getElementsByClassName('frames-contain__wrapper-frame');\n    if (frames.length === newFrames.length && fps === sliderFps.value) {\n      setTimeout(animationFrames, ms);\n    }\n  }\n\n  await animationFrames();\n}\n\nexport default createPreviewAnimation;\n","const preview = document.querySelector('.preview-contain__preview');\nconst fullscreenButton = document.querySelector('.preview-contain__fullscreen');\n\nfunction runFullscreenMode() {\n  preview.requestFullscreen();\n  preview.height = window.outerHeight;\n  preview.width = preview.height;\n}\n\nfunction handleFullscreenMode() {\n  fullscreenButton.addEventListener('click', runFullscreenMode);\n}\n\nexport default handleFullscreenMode;\n","import storage from '../../components/storage';\n\nclass Tools {\n  constructor() {\n    this.tools = document.querySelector('.tools');\n    this.pen = document.querySelector('.tools__pen-tool');\n    this.paintBucket = document.querySelector('.tools__paint-bucket-tool');\n    this.paintSameColor = document.querySelector('.tools__paint-same-color-tool');\n    this.colorPicker = document.querySelector('.tools__color-picker-tool');\n    this.eraser = document.querySelector('.tools__eraser-tool');\n    this.line = document.querySelector('.tools__line-tool');\n    this.rectangle = document.querySelector('.tools__rectangle-tool');\n    this.circle = document.querySelector('.tools__circle-tool');\n    this.dithering = document.querySelector('.tools__dithering-tool');\n    this.lighten = document.querySelector('.tools__lighten-tool');\n    this.move = document.querySelector('.tools__move-tool');\n    this.shape = document.querySelector('.tools__shape-selection-tool');\n    this.currentTool = null;\n    this.colorTools = '#acc7cd';\n  }\n\n  chooseTools(event) {\n    let { target } = event;\n    while (target !== this.tools) {\n      if (target.tagName === 'BUTTON') {\n        if (storage.currentTool !== null) { this[storage.currentTool].style.background = ''; }\n        switch (target) {\n          case this.pen:\n            storage.currentTool = 'pen';\n            this.currentTool = this.pen;\n            this.pen.style.background = this.colorTools;\n            break;\n          case this.paintBucket:\n            storage.currentTool = 'paintBucket';\n            this.currentTool = this.paintBucket;\n            this.paintBucket.style.background = this.colorTools;\n            break;\n          case this.paintSameColor:\n            storage.currentTool = 'paintSameColor';\n            this.currentTool = this.paintSameColor;\n            this.paintSameColor.style.background = this.colorTools;\n            break;\n          case this.colorPicker:\n            storage.currentTool = 'colorPicker';\n            this.currentTool = this.colorPicker;\n            this.colorPicker.style.background = this.colorTools;\n            break;\n          case this.eraser:\n            storage.currentTool = 'eraser';\n            this.currentTool = this.eraser;\n            this.eraser.style.background = this.colorTools;\n            break;\n          case this.line:\n            storage.currentTool = 'line';\n            this.currentTool = this.line;\n            this.line.style.background = this.colorTools;\n            break;\n          case this.rectangle:\n            storage.currentTool = 'rectangle';\n            this.currentTool = this.rectangle;\n            this.rectangle.style.background = this.colorTools;\n            break;\n          case this.circle:\n            storage.currentTool = 'circle';\n            this.currentTool = this.circle;\n            this.circle.style.background = this.colorTools;\n            break;\n          case this.dithering:\n            storage.currentTool = 'dithering';\n            this.currentTool = this.dithering;\n            this.dithering.style.background = this.colorTools;\n            break;\n          case this.lighten:\n            storage.currentTool = 'lighten';\n            this.currentTool = this.lighten;\n            this.lighten.style.background = this.colorTools;\n            break;\n          case this.move:\n            storage.currentTool = 'move';\n            this.currentTool = this.move;\n            this.move.style.background = this.colorTools;\n            break;\n          case this.shape:\n            storage.currentTool = 'shape';\n            this.currentTool = this.shape;\n            this.shape.style.background = this.colorTools;\n            break;\n          default:\n            break;\n        }\n      }\n      target = target.parentNode;\n    }\n    return storage.currentTool;\n  }\n\n  addTooltips(event) {\n    let { target } = event;\n    let res;\n    while (target !== this.tools) {\n      if (target.tagName === 'BUTTON') {\n        target.children[1].style.display = 'flex';\n        res = getComputedStyle(target.children[1]).display;\n      }\n      target = target.parentNode;\n    }\n    return res;\n  }\n\n  removeTooltips(event) {\n    let { target } = event;\n    let res;\n    while (target !== this.tools) {\n      if (target.tagName === 'BUTTON') {\n        target.children[1].style.display = 'none';\n        res = getComputedStyle(target.children[1]).display;\n      }\n      target = target.parentNode;\n    }\n    return res;\n  }\n\n  handleEventsTools() {\n    this.tools.addEventListener('click', this.chooseTools.bind(this));\n    this.tools.addEventListener('mousemove', this.addTooltips.bind(this));\n    this.tools.addEventListener('mouseleave', this.removeTooltips.bind(this), true);\n  }\n}\n\nexport default Tools;\n","import Tools from '../tools/tools';\n\nclass Keyboard extends Tools {\n  constructor() {\n    super('keyboard');\n    this.keyboardButton = document.querySelector('.keyboard-modal--button');\n    this.keyboardModal = document.querySelector('.keyboard-contain');\n    this.closeKeyboard = document.querySelector('.close');\n  }\n\n  showModalWindow() {\n    this.keyboardModal.style.display = 'flex';\n  }\n\n  closeModalWindow() {\n    this.keyboardModal.style.display = 'none';\n  }\n\n  handleKeyDown(e) {\n    const key = e.code;\n    const event = {\n      target: null,\n    };\n    switch (key) {\n      case 'KeyP':\n        event.target = this.pen;\n        break;\n      case 'KeyB':\n        event.target = this.paintBucket;\n        break;\n      case 'KeyA':\n        event.target = this.paintSameColor;\n        break;\n      case 'KeyO':\n        event.target = this.colorPicker;\n        break;\n      case 'KeyE':\n        event.target = this.eraser;\n        break;\n      case 'KeyL':\n        event.target = this.line;\n        break;\n      case 'KeyR':\n        event.target = this.rectangle;\n        break;\n      case 'KeyC':\n        event.target = this.circle;\n        break;\n      case 'KeyT':\n        event.target = this.dithering;\n        break;\n      case 'KeyU':\n        event.target = this.lighten;\n        break;\n      case 'KeyM':\n        event.target = this.move;\n        break;\n      case 'KeyS':\n        event.target = this.shape;\n        break;\n      default:\n        break;\n    }\n    if (event.target !== null) {\n      this.chooseTools(event);\n    }\n  }\n\n  handleKeyboardModalWindow() {\n    this.keyboardButton.addEventListener('click', this.showModalWindow.bind(this));\n    this.closeKeyboard.addEventListener('click', this.closeModalWindow.bind(this));\n    document.addEventListener('keydown', this.handleKeyDown.bind(this));\n  }\n}\n\nexport default Keyboard;\n","import GIF from '../../gif';\nimport storage from '../../components/storage';\n\n// const preview = document.querySelector('.preview-contain__preview');\n\nexport default class Export {\n  constructor() {\n    this.exportToGIFButton = document.querySelector('.export-contain__gif');\n    this.exportToGoogleDriveButton = document.querySelector('.google-drive');\n    this.renderExportToDrive = document.querySelector('#render-export-to-gd');\n    this.googleButton = document.querySelector('.g-savetodrive');\n  }\n\n  static exportToGif() {\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      background: '#e1e6e2',\n    });\n    window.console.log(gif, this.exportToGIFButton);\n    const ms = 1000 / storage.currentFps;\n\n    let frames = document.getElementsByClassName('frames-contain__frame');\n    frames = Array.prototype.slice.call(frames);\n    frames.forEach((elem) => {\n      gif.addFrame(elem, { delay: ms });\n    });\n\n    function f(blob) {\n      const link = document.createElement('a');\n      const urlImg = URL.createObjectURL(blob);\n      link.setAttribute('href', urlImg);\n      link.setAttribute('download', 'download');\n      link.click();\n    }\n\n    gif.on('finished', f);\n\n    gif.render();\n  }\n\n  exportToGD() {\n    const urlImg = Export.exportToGif();\n    this.googleButton.setAttribute('data-src', urlImg);\n  }\n\n  static renderSaveToDrive() {\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      background: '#e1e6e2',\n    });\n    window.console.log(gif, this.exportToGIFButton);\n    const ms = 1000 / storage.currentFps;\n\n    let frames = document.getElementsByClassName('frames-contain__frame');\n    frames = Array.prototype.slice.call(frames);\n    frames.forEach((elem) => {\n      gif.addFrame(elem, { delay: ms });\n    });\n\n    // eslint-disable-next-line no-undef\n    gapi.savetodrive.go('savetodrive-div');\n\n    function f(blob) {\n      let urlImg = URL.createObjectURL(blob);\n      urlImg = urlImg.slice(5);\n      // eslint-disable-next-line no-undef\n      gapi.savetodrive.render('savetodrive-div', {\n        src: `${urlImg}`,\n        filename: 'My Statement.pdf',\n        sitename: 'My Company Name',\n      });\n    }\n\n    gif.on('finished', f);\n\n    gif.render();\n  }\n\n  handleExports() {\n    this.exportToGIFButton.addEventListener('click', Export.exportToGif);\n    this.renderExportToDrive.addEventListener('click', Export.renderSaveToDrive);\n    // this.googleButton.addEventListener('click', this.exportToGD.bind(this));\n  }\n}\n","class Frame {\n  constructor(numData, numOfFrame) {\n    this.frameCopy = document.querySelector('.frames-contain__wrapper-frame');\n    this.frameContain = this.frameCopy.cloneNode(true);\n    [this.frameCanvas, this.numFrameTool] = this.frameContain.children;\n    this.numDataOfFrame = numData;\n    this.numFrameTool.innerHTML = numOfFrame;\n  }\n}\n\nexport default Frame;\n","import storage from './storage';\n\nfunction drawCanvas(elem) {\n  if (elem !== null) {\n    const context = storage.canvas.canvasElement.getContext('2d');\n    const color = elem[3];\n    context.fillStyle = color;\n    context.fillRect(elem[0], elem[1], elem[2], elem[2]);\n  }\n}\n\nexport default drawCanvas;\n","import storage from '../../components/storage';\nimport Canvas from '../canvas/canvas';\nimport Frame from './frames';\nimport createPreviewAnimation from '../preview/preview-animation';\nimport drawCanvas from '../../components/draw-canvas';\n\nexport default class FrameTools {\n  constructor() {\n    this.currentFrame = document.querySelector('.frames-contain__wrapper-frame');\n    this.addFrameButton = document.querySelector('.frames-contain__frame-add');\n    this.dragElem = null;\n  }\n\n  static changeNum(e, i) {\n    e.children[1].innerHTML = i + 1;\n    e.setAttribute('data-num-frame', i);\n  }\n\n  static changeNumOfFrames() {\n    let frames = document.getElementsByClassName('frames-contain__wrapper-frame');\n    frames = Array.prototype.slice.call(frames);\n\n    frames.map((elem, i) => FrameTools.changeNum(elem, i));\n  }\n\n  static getHoverTool() {\n    const tools = [this.children[2], this.children[3], this.children[4]];\n    tools.map(elem => elem.classList.add('visible'));\n  }\n\n  static stopHoverTool() {\n    const tools = [this.children[2], this.children[3], this.children[4]];\n    tools.map(elem => elem.classList.remove('visible'));\n  }\n\n  static hoverFrameTools(frame) {\n    frame.addEventListener('mousemove', FrameTools.getHoverTool);\n    frame.addEventListener('mouseleave', FrameTools.stopHoverTool);\n  }\n\n  handleFrameTool(frame) {\n    frame.children[2].addEventListener('click', this.deleteFrame.bind(this));\n    frame.children[4].addEventListener('click', this.copyFrame.bind(this));\n    this.handleMoveFrameTool(frame);\n    FrameTools.hoverFrameTools(frame);\n    frame.addEventListener('click', this.selectFrame.bind(this));\n  }\n\n  createNewFrame(frame) {\n    storage.framesData[storage.frame.countOfDataFrame] = new Array(storage.canvas.sizeCanvas\n      * storage.canvas.sizeCanvas).fill(null);\n    const newFrame = frame;\n    newFrame.setAttribute('data-num-frame', storage.frame.countOfDataFrame);\n    newFrame.children[1].innerHTML = storage.frame.countOfFrame;\n    this.currentFrame = storage.frame.currentFrame;\n    this.currentFrame.classList.remove('selected');\n    storage.frame.currentFrame = newFrame;\n    storage.frame.numCurrentFrame = storage.frame.countOfDataFrame;\n    this.currentFrame = newFrame;\n    this.currentFrame.classList.add('selected');\n    this.handleFrameTool(newFrame);\n    return newFrame;\n  }\n\n  addNewFrame() {\n    storage.frame.countOfDataFrame += 1;\n    storage.frame.countOfFrame += 1;\n    let newFrame = new Frame(storage.frame.countOfDataFrame, storage.frame.countOfFrame);\n    const newCanvas = new Canvas();\n    newCanvas.createCanvas(storage.canvas.sizeCanvas);\n    newFrame = this.createNewFrame(newFrame.frameContain);\n    this.addFrameButton.insertAdjacentElement('beforebegin', newFrame);\n    createPreviewAnimation(storage.currentFps);\n    return newFrame;\n  }\n\n  deleteFrame(e) {\n    let { target } = e;\n    do {\n      target = target.parentNode;\n    } while (target.tagName !== 'DIV');\n\n    let currentNum = target.getAttribute('data-num-frame');\n    storage.framesData.splice(currentNum, 1);\n    window.console.log(storage.framesData);\n\n    if (target === storage.frame.currentFrame) {\n      this.currentFrame = target.previousElementSibling;\n      storage.frame.currentFrame = target.previousElementSibling;\n      target.parentNode.removeChild(target);\n      storage.frame.currentFrame.classList.add('selected');\n\n      const newCanvas = new Canvas();\n      newCanvas.createCanvas(storage.canvas.sizeCanvas);\n      currentNum = storage.frame.currentFrame.getAttribute('data-num-frame');\n      storage.frame.numCurrentFrame = currentNum;\n      storage.framesData[currentNum].map(elem => drawCanvas(elem));\n    } else {\n      target.parentNode.removeChild(target);\n    }\n\n    storage.frame.countOfFrame -= 1;\n    storage.frame.countOfDataFrame -= 1;\n    FrameTools.changeNumOfFrames();\n    createPreviewAnimation(storage.currentFps);\n  }\n\n  copyFrame(e) {\n    let { target } = e;\n    do {\n      target = target.parentNode;\n    } while (target.tagName !== 'DIV');\n\n    storage.frame.countOfDataFrame += 1;\n    storage.frame.countOfFrame += 1;\n\n    const newCanvas = new Canvas();\n    newCanvas.createCanvas(storage.canvas.sizeCanvas);\n\n    const currentNum = target.getAttribute('data-num-frame');\n    storage.framesData[currentNum].map(elem => drawCanvas(elem));\n\n    const newFrame = target.cloneNode(true);\n    const ctxNewFrame = newFrame.children[0].getContext('2d');\n    ctxNewFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n    newFrame.children[4].addEventListener('click', FrameTools.copyFrame);\n\n    this.createNewFrame(newFrame);\n    storage.framesData[storage.frame.countOfDataFrame] = new Array(storage.canvas.sizeCanvas\n      * storage.canvas.sizeCanvas).fill(null).map((elem, i) => {\n      const element = storage.framesData[currentNum][i];\n      return element;\n    });\n\n    target.insertAdjacentElement('afterend', newFrame);\n    FrameTools.changeNumOfFrames();\n    createPreviewAnimation(storage.currentFps);\n  }\n\n  selectFrame(event) {\n    if (event.target.tagName === 'CANVAS') {\n      storage.frame.currentFrame.classList.remove('selected');\n      event.target.parentNode.classList.add('selected');\n      this.currentFrame = event.target.parentNode;\n      storage.frame.currentFrame = event.target.parentNode;\n      const newCanvas = new Canvas();\n      newCanvas.createCanvas(storage.canvas.sizeCanvas);\n\n      const currentNum = storage.frame.currentFrame.getAttribute('data-num-frame');\n      storage.frame.numCurrentFrame = currentNum;\n      storage.framesData[currentNum].map(elem => drawCanvas(elem));\n    }\n  }\n\n  copyNode(element) {\n    const elem = element.cloneNode(true);\n\n    const newCanvas = new Canvas();\n    newCanvas.createCanvas(storage.canvas.sizeCanvas);\n    const currentNum = elem.getAttribute('data-num-frame');\n    storage.framesData[currentNum].map(e => drawCanvas(e));\n\n    const ctxNewFrame = elem.children[0].getContext('2d');\n    ctxNewFrame.drawImage(storage.canvas.canvasElement, 0, 0, 150, 150);\n    this.handleFrameTool(elem);\n    return elem;\n  }\n\n  getDragElem(e) {\n    let { target } = e;\n    do {\n      target = target.parentNode;\n    } while (target.tagName !== 'DIV');\n\n    this.dragElem = target;\n  }\n\n  handleDragStart(e) {\n    if (this.dragElem !== null) {\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('text/html', this.innerHTML);\n    }\n  }\n\n  handleDragEnter(e) {\n    let { target } = e;\n    while (!target.children[0]) {\n      while (target.tagName !== 'DIV') {\n        target = target.parentNode;\n      }\n    }\n    if (target.children[0].tagName === 'CANVAS') {\n      if (this.dragElem !== target) {\n        target.classList.add('over');\n      }\n    }\n  }\n\n  static handleDragOver(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    e.dataTransfer.dropEffect = 'move';\n    return false;\n  }\n\n  static handleDragLeave(e) {\n    e.target.classList.remove('over');\n  }\n\n  handleDragEnd() {\n    const over = document.querySelector('.over');\n\n    let frames = document.getElementsByClassName('frames-contain__wrapper-frame');\n    frames = Array.prototype.slice.call(frames);\n\n    frames.map((elem) => {\n      if (this.dragElem === elem && over !== null) {\n        const selected = document.querySelector('.selected');\n        selected.classList.remove('selected');\n\n        over.classList.remove('over');\n        over.classList.add('selected');\n\n        const elemCopy = this.copyNode(elem);\n        const overCopy = this.copyNode(over);\n        elem.parentNode.replaceChild(overCopy, elem);\n        over.parentNode.replaceChild(elemCopy, over);\n\n        const currentNumElem = elemCopy.getAttribute('data-num-frame');\n        const currentNumOver = overCopy.getAttribute('data-num-frame');\n\n        const currentFrameDataElem = new Array(storage.canvas.sizeCanvas\n          * storage.canvas.sizeCanvas).fill(null).map((e, i) => {\n          const element = storage.framesData[currentNumOver][i];\n          return element;\n        });\n        const currentFrameDataOver = new Array(storage.canvas.sizeCanvas\n          * storage.canvas.sizeCanvas).fill(null).map((e, i) => {\n          const element = storage.framesData[currentNumElem][i];\n          return element;\n        });\n\n        storage.framesData[currentNumElem] = currentFrameDataElem;\n        storage.framesData[currentNumOver] = currentFrameDataOver;\n\n        this.currentFrame = overCopy;\n        storage.frame.currentFrame = overCopy;\n        storage.frame.numCurrentFrame = storage.frame.currentFrame.getAttribute('data-num-frame');\n\n        this.dragElem = null;\n      }\n      return elem;\n    });\n    FrameTools.changeNumOfFrames();\n  }\n\n  handleMoveFrameTool(frame) {\n    frame.addEventListener('mousedown', this.getDragElem.bind(this));\n    frame.addEventListener('dragstart', this.handleDragStart.bind(this));\n    frame.addEventListener('dragenter', this.handleDragEnter.bind(this));\n    frame.addEventListener('dragover', FrameTools.handleDragOver);\n    frame.addEventListener('dragleave', FrameTools.handleDragLeave);\n    frame.addEventListener('dragend', this.handleDragEnd.bind(this));\n  }\n\n  handleAddFrameButton() {\n    this.addFrameButton.addEventListener('click', this.addNewFrame.bind(this));\n  }\n}\n","import storage from '../../components/storage';\n\nclass Colors {\n  constructor() {\n    this.primaryColorField = document.querySelector('.colors__primary-color');\n    this.secondaryColorField = document.querySelector('.colors__secondary-color');\n    this.arrowChange = document.querySelector('.colors__arrow');\n  }\n\n  static changePrimaryColor() {\n    storage.colors.primaryColor = this.value;\n  }\n\n  static changeSecondaryColor() {\n    storage.colors.secondaryColor = this.value;\n  }\n\n  changeColors() {\n    const { primaryColor, secondaryColor } = storage.colors;\n    storage.colors.primaryColor = secondaryColor;\n    storage.colors.secondaryColor = primaryColor;\n    this.primaryColorField.value = secondaryColor;\n    this.secondaryColorField.value = primaryColor;\n  }\n\n  handleColorsChange() {\n    this.primaryColorField.addEventListener('change', Colors.changePrimaryColor);\n    this.secondaryColorField.addEventListener('change', Colors.changeSecondaryColor);\n    this.arrowChange.addEventListener('click', this.changeColors.bind(this));\n  }\n}\n\nexport default Colors;\n","import Screenshot from '../../assets/screenshot.jpg';\nimport storage from '../../components/storage';\n\nexport default class Landing {\n  constructor() {\n    this.landingPage = document.querySelector('.landing-page');\n    this.piskelApp = document.querySelector('.piskel-app');\n    this.aboutApp = document.querySelector('.landing-page__piskel-app');\n    this.createSpriteButton = document.querySelector('.landing-page__piskel-app--create-sprite');\n    this.backToLandingButton = document.querySelector('.back-to-landing-page-button');\n  }\n\n  loadImage() {\n    const screen = new Image();\n    screen.src = Screenshot;\n    this.aboutApp.insertAdjacentElement('beforeend', screen);\n  }\n\n  loadApp() {\n    this.landingPage.style.display = 'none';\n    this.piskelApp.style.display = 'grid';\n    storage.display.landing = 'none';\n    storage.display.app = 'grid';\n  }\n\n  backToLanding() {\n    this.landingPage.style.display = 'block';\n    this.piskelApp.style.display = 'none';\n    storage.display.landing = 'block';\n    storage.display.app = 'none';\n  }\n\n  handleCreateSpriteButton() {\n    this.createSpriteButton.addEventListener('click', this.loadApp.bind(this));\n    this.backToLandingButton.addEventListener('click', this.backToLanding.bind(this));\n  }\n}\n","import storage from '../../components/storage';\nimport createPreviewAnimation from './preview-animation';\n\nexport default class FPS {\n  constructor() {\n    this.sliderFps = document.querySelector('.preview-contain__fps-block--fps-slider');\n    this.valueFps = document.querySelector('.fps-value');\n  }\n\n  changeFpsValue() {\n    if (this.sliderFps.value !== this.valueFps.value) {\n      const { value } = this.sliderFps;\n      this.valueFps.value = value;\n      this.valueFps.innerHTML = value;\n      storage.currentFps = value;\n      createPreviewAnimation(storage.currentFps);\n    }\n  }\n\n  handleSliderFPS() {\n    this.sliderFps.addEventListener('mousemove', this.changeFpsValue.bind(this));\n  }\n}\n","import Canvas from './canvas';\nimport storage from '../../components/storage';\nimport FrameTools from '../frames/frame-tools';\n\nexport default class CanvasSize {\n  constructor() {\n    this.canvasSizeButton = document.querySelector('.canvas-size');\n  }\n\n  static deleteOldFrame(size) {\n    let frames = document.querySelectorAll('.frames-contain__wrapper-frame');\n    frames = Array.prototype.slice.call(frames);\n\n    frames.map((elem, i) => {\n      if (i === 0) {\n        const cvs = elem.children[0];\n        const ctx = cvs.getContext('2d');\n        ctx.clearRect(0, 0, 150, 150);\n        storage.framesData[i] = new Array(size * size).fill(null);\n        return elem;\n      }\n      const event = {\n        target: elem.children[0],\n      };\n      const frameTools = new FrameTools();\n      frameTools.deleteFrame(event);\n      return elem;\n    });\n  }\n\n  static changeCanvasSize(e) {\n    if (e.target.tagName === 'BUTTON') {\n      const { target } = e;\n      const size = +target.textContent;\n      const oldSize = document.querySelector('.canvas-size .selected');\n      oldSize.classList.remove('selected');\n      target.classList.add('selected');\n      CanvasSize.deleteOldFrame(size);\n      const newCanvas = new Canvas();\n      newCanvas.createCanvas(size);\n      storage.framesData = [\n        new Array(storage.canvas.sizeCanvas * storage.canvas.sizeCanvas).fill(null),\n      ];\n    }\n  }\n\n  handleCanvasSizeButton() {\n    this.canvasSizeButton.addEventListener('click', CanvasSize.changeCanvasSize);\n  }\n}\n","import storage from '../../components/storage';\nimport Landing from '../landing-page/landing';\nimport Tools from '../tools/tools';\nimport Colors from '../colors/colors';\nimport Canvas from '../canvas/canvas';\nimport FrameTools from '../frames/frame-tools';\nimport drawCanvas from '../../components/draw-canvas';\nimport FPS from '../preview/slider-fps';\nimport CanvasSize from '../canvas/canvas-size-button';\n\nexport default class UserSession {\n  constructor() {\n    this.saveButton = document.querySelector('#save');\n    this.deleteButton = document.querySelector('#delete');\n    this.message = document.querySelector('.session-message');\n    this.store = null;\n    this.tool = new Tools();\n    this.colors = new Colors();\n    this.canvas = new Canvas();\n    this.landing = new Landing();\n    this.frameTools = new FrameTools();\n    this.sliderFps = new FPS();\n    this.canvasSize = new CanvasSize();\n  }\n\n  saveSession() {\n    localStorage.setItem('storage', JSON.stringify(storage));\n    this.store = JSON.parse(localStorage.getItem('storage'));\n    const messText = 'Current session saved';\n    this.showMessage(messText);\n  }\n\n  static closeMessage() {\n    const mess = document.querySelector('.session-message');\n    mess.style.display = 'none';\n  }\n\n  showMessage(text) {\n    this.message.innerHTML = text;\n    this.message.style.display = 'flex';\n    setTimeout(UserSession.closeMessage, 3000);\n  }\n\n  deleteCurrentTool() {\n    if (this.store.currentTool) {\n      this.tool[storage.currentTool].style.background = '';\n      this.tool.currentTool = null;\n      storage.currentTool = null;\n    }\n  }\n\n  deleteColors() {\n    this.colors.primaryColorField.value = '#acc7cd';\n    this.colors.secondaryColorField.value = '#e1e6e2';\n    storage.colors.primaryColor = '#acc7cd';\n    storage.colors.secondaryColor = '#e1e6e2';\n  }\n\n  deleteFrames() {\n    storage.canvas.sizeCanvas = 32;\n\n    const arraySizeButton = Array.prototype.slice.call(this.canvas.canvasSizeButtons.children);\n    const currentSizeButton = arraySizeButton.find(elem => +elem.innerText\n        === this.store.canvas.sizeCanvas);\n    const event = {\n      target: currentSizeButton,\n    };\n    CanvasSize.changeCanvasSize(event);\n  }\n\n  deleteFps() {\n    this.sliderFps.sliderFps.value = 0;\n    this.sliderFps.changeFpsValue();\n  }\n\n  deleteSession() {\n    if (this.store) {\n      const messText = 'Current session deleted';\n      localStorage.clear();\n\n      this.deleteCurrentTool();\n      this.deleteColors();\n      this.deleteFrames();\n      this.deleteFps();\n      this.showMessage(messText);\n    }\n\n    window.console.log(storage);\n    window.console.log(this.store);\n  }\n\n  loadDisplay() {\n    this.landing.piskelApp.style.display = this.store.display.app;\n    this.landing.landingPage.style.display = this.store.display.landing;\n    storage.display.app = this.store.display.app;\n    storage.display.landing = this.store.display.landing;\n  }\n\n  loadCurrentTool() {\n    if (this.store.currentTool) {\n      this.tool.currentTool = this.tool[this.store.currentTool];\n      this.tool.currentTool.style.background = this.tool.colorTools;\n      storage.currentTool = this.store.currentTool;\n    }\n  }\n\n  loadCurrentColor() {\n    this.colors.primaryColorField.value = this.store.colors.primaryColor;\n    this.colors.secondaryColorField.value = this.store.colors.secondaryColor;\n    storage.colors.primaryColor = this.store.colors.primaryColor;\n    storage.colors.secondaryColor = this.store.colors.secondaryColor;\n  }\n\n  loadCanvasSize() {\n    storage.canvas.sizeCanvas = this.store.canvas.sizeCanvas;\n\n    const arraySizeButton = Array.prototype.slice.call(this.canvas.canvasSizeButtons.children);\n    const currentSizeButton = arraySizeButton.find(elem => +elem.innerText\n        === this.store.canvas.sizeCanvas);\n    const event = {\n      target: currentSizeButton,\n    };\n    CanvasSize.changeCanvasSize(event);\n  }\n\n  loadFrames() {\n    this.store.framesData.forEach((elem, i) => {\n      if (i > 0) {\n        this.frameTools.addNewFrame();\n      }\n      this.canvas.createCanvas(storage.canvas.sizeCanvas);\n      this.store.framesData[i].map(el => drawCanvas(el));\n\n      const { currentFrame } = storage.frame;\n      const ctxFrame = currentFrame.children[0].getContext('2d');\n      ctxFrame.drawImage(storage.canvas.canvasElement, 0, 0, currentFrame.clientWidth,\n        currentFrame.clientHeight);\n    });\n\n    this.store.framesData.forEach((elem, ind) => {\n      storage.framesData[ind] = new Array(storage.canvas.sizeCanvas\n              * storage.canvas.sizeCanvas).fill(null).map((e, i) => {\n        const element = this.store.framesData[ind][i];\n        return element;\n      });\n    });\n\n    const frames = document.getElementsByClassName('frames-contain__wrapper-frame');\n    const eventSelect = {\n      target: frames[this.store.frame.numCurrentFrame].children[0],\n    };\n    this.frameTools.selectFrame(eventSelect);\n  }\n\n  loadCurrentFps() {\n    this.sliderFps.sliderFps.value = this.store.currentFps;\n    this.sliderFps.changeFpsValue();\n  }\n\n  loadSession() {\n    this.store = JSON.parse(localStorage.getItem('storage'));\n\n    this.loadDisplay();\n    this.loadCurrentTool();\n    this.loadCurrentColor();\n    this.loadCanvasSize();\n    this.loadFrames();\n    this.loadCurrentFps();\n\n    window.console.log(storage);\n    window.console.log(this.store);\n  }\n\n  handleClickSaveButton() {\n    this.saveButton.addEventListener('click', this.saveSession.bind(this));\n    this.deleteButton.addEventListener('click', this.deleteSession.bind(this));\n  }\n}\n","import createPreviewAnimation from '../screens/preview/preview-animation';\nimport handleFullscreenMode from '../screens/preview/fullsreen-mode';\nimport storage from './storage';\nimport Tools from '../screens/tools/tools';\nimport Keyboard from '../screens/keyboard/keyboard-shortcuts';\nimport Export from '../screens/export/export';\nimport FrameTools from '../screens/frames/frame-tools';\nimport Colors from '../screens/colors/colors';\nimport Authorization from '../screens/authorization/auth';\nimport Landing from '../screens/landing-page/landing';\nimport UserSession from '../screens/user-session/user-local-storage';\nimport FPS from '../screens/preview/slider-fps';\nimport CanvasSize from '../screens/canvas/canvas-size-button';\n\nconst tools = new Tools();\nconst keyboard = new Keyboard();\nconst frameTools = new FrameTools();\nconst exp = new Export();\nconst colors = new Colors();\nconst auth = new Authorization();\nconst landing = new Landing();\nconst session = new UserSession();\nconst sliderFps = new FPS();\nconst canvasSize = new CanvasSize();\n\nfunction checkLocalStorage() {\n  if (localStorage.getItem('storage')) {\n    session.loadSession();\n  } else {\n    landing.landingPage.style.display = 'block';\n  }\n}\n\nfunction start() {\n  frameTools.handleAddFrameButton();\n  tools.handleEventsTools();\n  sliderFps.handleSliderFPS();\n  createPreviewAnimation(storage.currentFps);\n  handleFullscreenMode();\n  canvasSize.handleCanvasSizeButton();\n  frameTools.handleFrameTool(storage.frame.currentFrame);\n  colors.handleColorsChange();\n  keyboard.handleKeyboardModalWindow();\n  exp.handleExports();\n  auth.handleSingInButton();\n  landing.loadImage();\n  landing.handleCreateSpriteButton();\n  session.handleClickSaveButton();\n  checkLocalStorage();\n}\n\nexport default start;\n","export default class Authorization {\n  constructor() {\n    this.sinInButton = document.querySelector('.header__sing-in-button');\n    this.authWindow = document.querySelector('.authorization');\n    this.close = document.querySelector('.authorization .close');\n  }\n\n  showSingInWindow() {\n    this.authWindow.style.display = 'flex';\n  }\n\n  closeSingInWindow() {\n    this.authWindow.style.display = 'none';\n  }\n\n  handleSingInButton() {\n    this.sinInButton.addEventListener('click', this.showSingInWindow.bind(this));\n    this.close.addEventListener('click', this.closeSingInWindow.bind(this));\n  }\n}\n","import './index.scss';\nimport storage from './components/storage';\nimport Canvas from './screens/canvas/canvas';\nimport start from './components/start-app';\n\nconst sideCanvas = 32;\nstorage.canvas.sizeCanvas = sideCanvas;\n\nconst newCanvas = new Canvas();\nnewCanvas.createCanvas(sideCanvas);\n\nstart();\n"],"sourceRoot":""}