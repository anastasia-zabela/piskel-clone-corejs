<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="google-signin-client_id" content="388355899894-fb95o7d9mp42ca8a8jl4sbl817doous2.apps.googleusercontent.com">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
</head>
<body>
    <header class="header">
        <h1>Piskel clone</h1>
        <nav class="header__navigation-auth">
           <button class="header__sing-in-button">Sign in</button> 
        </nav>
    </header>

    <section class="wrapper">
        <section class="tools">
            <button class="tools__pen-tool">
                <span class="fas fa-pen"></span>
                <div>Pen tool (P)</div>
            </button>
            <button class="tools__paint-bucket-tool">
                <span class="fas fa-fill-drip"></span>
                <div>Paint bucket tool (B)</div>
            </button>
            <button class="tools__paint-same-color-tool">
                <span class="fas fa-palette"></span>
                <div>Paint all pixel same color (A)</div>
            </button>
            <button class="tools__color-picker-tool">
                <span class="fas fa-eye-dropper"></span>
                <div>Color picker tool (O)</div>
            </button>
            <button class="tools__eraser-tool">
                <span class="fas fa-eraser"></span>
                <div>Eraser tool (E)</div>
            </button>
            <button class="tools__line-tool">
                <span class="fas fa-slash"></span>
                <div>Line tool (L)</div>
            </button>
            <button class="tools__rectangle-tool">
                <span class="fas fa-vector-square"></span>
                <div>Rectangle tool (R)</div>
            </button>
            <button class="tools__circle-tool">
                <span class="far fa-circle"></span>
                <div>Circle tool (C)</div>
            </button>
            <button class="tools__dithering-tool">
                <span class="fab fa-delicious"></span>
                <div>Dithering tool (T)</div>
            </button>
            <button class="tools__lighten-tool">
                <span class="fas fa-adjust"></span>
                <div>Lighten (U)</div>
            </button>
            <button class="tools__move-tool">
                <span class="fas fa-hand-paper"></span>
                <div>Move tool (M)</div>
            </button>
            <button class="tools__shape-selection-tool">
                <span class="fas fa-magic"></span>
                <div>Shape selection (S)</div>
            </button>
    </section>
        <section class="colors">
            <input class="colors__primary-color" type="color" value="#acc7cd">
            <input class="colors__secondary-color" type="color" value="#e1e6e2">
            <div class="colors__arrow fas fa-level-up-alt"></div>
        </section>
        <section class="keyboard-modal">
            <button class="keyboard-modal--button far fa-keyboard"></button>
        </section>
        <section class="frames-contain">
            <div class="frames-contain__wrapper">
                <div class="frames-contain__wrapper-frame selected" data-num-frame="0" draggable="true">
                    <canvas class="frames-contain__frame" width="150px" height="150px"></canvas>
                    <button class="frames-contain__number">1</button>
                    <button class="frames-contain__tool--delete-tool"><span class="fas fa-trash"></span></button>           
                    <button class="frames-contain__tool--move-tool"><span class="fas fa-arrows-alt"></span></button>
                    <button class="frames-contain__tool--copy-tool"><span class="fas fa-clone"></span></button>
                </div>
                <button class="frames-contain__frame-add fas fa-plus"></button>
            </div>
        </section>
        <section class="canvas-contain">
            <canvas class="canvas-contain__drawing-canvas" width="800px" height="800px"></canvas>
            <canvas class="canvas-contain__secondary-canvas" width="800px" height="800px"></canvas>
        </section>
        <section class="canvas-size">
            <button class="selected">32</button>
            <button>64</button>
            <button>128</button>
        </section>
        <section class="preview-contain">
            <div class="preview-contain__wrapper">
                <canvas class="preview-contain__preview" width="350px" height="350px"></canvas>
                <div class="preview-contain__fps-block">
                    <span>FPS</span>
                    <span class="fps-value">0</span>
                    <input class="preview-contain__fps-block--fps-slider" type="range" min="0" max="24" step="1" value="0">
                </div>
                <button class="preview-contain__fullscreen">Fullscreen</button>
            </div>
        </section>
        <section class="export-contain">
            <h4>Export</h4>
            <button class="export-contain__gif">GIF</button>
        </section>
        <section class="info">
            <div class="info__coords"></div>
        </section>
    </section>
    <section class="keyboard-contain">
        <article class="keyboard-contain__modal">
            <h3>Keyboard shortcuts</h3>
            <div class="close"></div>
            <div class="keyboard-contain__modal--tool">
                <h4>Tool shortcuts</h4>
                <div>
                    <i class="fas fa-pen"></i>
                    <button>P</button>
                    <span>Pen tool</span>
                </div>
                <div>
                    <i class="fas fa-fill-drip"></i>
                    <button>B</button>
                    <span>Paint bucket tool</span>
                </div>
                <div>
                    <i class="fas fa-palette"></i>
                    <button>A</button>
                    <span>Magic bucket tool</span>
                </div>
                <div>
                    <i class="fas fa-eye-dropper"></i>
                    <button>O</button>
                    <span>Color picker</span>
                </div>
                <div>
                    <i class="fas fa-eraser"></i>
                    <button>E</button>
                    <span>Eraser tool</span>
                </div>
                <div>
                    <i class="fas fa-slash"></i>
                    <button>L</button>
                    <span>Line tool</span>
                </div>
                <div>
                    <i class="fas fa-vector-square"></i>
                    <button>R</button>
                    <span>Rectangle tool</span>
                </div>
                <div>
                    <i class="far fa-circle"></i>
                    <button>C</button>
                    <span>Circle tool</span>
                </div>
                <div>
                    <i class="fab fa-delicious"></i>
                    <button>T</button>
                    <span>Dithering tool</span>
                </div>
                <div>
                    <i class="fas fa-adjust"></i>
                    <button>U</button>
                    <span>Lighten tool</span>
                </div>
                <div>
                    <i class="fas fa-hand-paper"></i>
                    <button>M</button>
                    <span>Move tool</span>
                </div>
                <div>
                    <i class="fas fa-magic"></i>
                    <button>S</button>
                    <span>Shape selection</span>
                </div>
            </div>
        </article>
    </section>
    <section class="authorization">
        <article class="authorization-window">
            <h3>Sing in</h3>
            <div class="close"></div>
            <div class="g-signin2 google-login" data-onsuccess="onSignIn"></div>
        </article>
    </section>
    <script>
        function onSignIn(googleUser) {
            const profile = googleUser.getBasicProfile();
            console.log('ID: ' + profile.getId());
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail());
            const profileButton = document.createElement('button');
            profileButton.classList.add('header__profile');
            profileButton.innerHTML = `<img src=${profile.getImageUrl()} />${profile.getName()}`;
            const nav = document.querySelector('.header__navigation-auth');
            const signInButton = document.querySelector('.header__sing-in-button');
            signInButton.style.display = 'none';
            const authWindow = document.querySelector('.authorization');

            const signOutButton = document.createElement('button');
            signOutButton.classList.add('header__sing-out-button');
            signOutButton.innerHTML = 'Sign out';
            signOutButton.addEventListener('click', () => {
                const auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                    console.log('User signed out.');
                    signInButton.style.display = 'inline-block';
                    nav.removeChild(signOutButton);
                    nav.removeChild(profileButton);
                    authWindow.style.display = 'none';
                });
            });

            nav.insertAdjacentElement('beforeend', signOutButton);
            nav.insertAdjacentElement('beforeend', profileButton);
        }
    </script>
</body>
</html>
